<!DOCTYPE html>
<html xmlns:layout="https://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{client/shared/_layout}"
      xmlns:th="https://www.thymeleaf.org">
<div layout:fragment="content" id="all" th:fragment="list_search_book">
     <div id="content">
          <div th:replace="client/book/list_book :: list_book(listBook=${list},namePath='Kết quả tìm kiếm: '+${search_value}) "></div>
            <h1 th:text="${list.size() != 0 ? '': 'Không tìm thấy sách phù hợp!' }"></h1>
          <hr />
          <nav aria-label="Page navigation mb-3">
               <ul class="pagination justify-content-center" th:if="${page.totalPages > 0}">
                    <li class="page-item" th:classappend="${page.number eq 0} ? 'disabled'">
                         <a class="page-link"
                            th:href="@{?page={id}&&name={name}(id=${page.number lt 2 ? 1 : page.number} , name =${search_value})}"
                            aria-label="Previous">
                              <span aria-hidden="true">« Prev</span>
                              <span class="sr-only">Previous</span>
                         </a>
                    </li>
                    <li class="page-item" th:classappend="${i eq page.number + 1} ? 'active'"
                        th:each="i : ${pageNumbers}">
<!--                         <a class="page-link" th:onclick="'changePage(\'' + ${i} + '\');'" th:text="${i}"-->
<!--                            th:title="${'Page '+ i}"-->
<!--                            rel="tooltip"></a>-->
                        <a class="page-link" th:href="@{?page={page}&&name={name}(page=${i},  name=${search_value})}" th:text="${i}"
                           th:title="${'Page '+ i}"
                           rel="tooltip"></a>
                    </li>
                    <li class="page-item"
                        th:classappend="${page.number + 1 eq page.totalPages} ? 'disabled'">
<!--                         <a class="page-link" th:href="@{?page={id}(id=${page.number + 2})}" aria-label="Next">-->
                         <a class="page-link" th:href="@{?page={page}&&name={name}(page=${page.number+2},  name=${search_value})}"

                              <span aria-hidden="true">Next »</span>
                              <span class="sr-only">Next</span>
                         </a>
                    </li>
               </ul>
          </nav>
     </div>


</div>

<script layout:fragment="jsFooter">
     addcartitem.init();
     // var name = search_value;
     // var page_url=parseInt(GetURLParameter("page"));
     //
     // if (isNaN(page_url)){
     //      page_url=1;
     // }
     // refreshDataTable(page_url);
     // $("#search_value").change(function(){
     //      var search_value =$("#search_value").val();
     //      toastr.success(search_value, "Tìm kiếm")
     //      // var page_val=parseInt(GetURLParameter("page"));
     //      // if (isNaN(page_url)){
     //      //     page_val=1;
     //      // }
     //      // refreshDataTable(1,size_val);
     // });
     //
     // function changePage(page) {
     //     var size_val =$("#size").val();
     //     refreshDataTable(page,size_val);
     // }
     //
     // function GetURLParameter(sParam) {
     //      var sPageURL = window.location.search.substring(1);
     //      var sURLVariables = sPageURL.split('&');
     //      for (var i = 0; i < sURLVariables.length; i++){
     //           var sParameterName = sURLVariables[i].split('=');
     //           if (sParameterName[0] == sParam)
     //           {
     //                return sParameterName[1];
     //           }
     //      }
     // }
     // function refreshDataTable(page) {
     //      $.ajax({
     //           type: 'post',
     //           url: '/book-by/filter-by-name',
     //           data:{
     //                page: page
     //           },
     //           success: function (data) {
     //                $('#data_table').html(data);
     //           },
     //           error:function (error) {
     //                toastr.error("Đã xuất hiện lỗi trong quá trình cập nhật", "Thất bại")
     //           }
     //
     //      })
     //
     // }
</script>

<!--<script layout:fragment="jsFooter">-->
<!--     addcartitem.init();-->
<!--</script>-->

